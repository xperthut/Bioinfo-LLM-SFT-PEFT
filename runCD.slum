#!/bin/bash

#SBATCH --job-name=ClusterDistance
#SBATCH --nodes=1
#SBATCH --time=3-20:00:00 
#SBATCH --partition=ampere 
#SBATCH --output=slurm_%j.out 
#SBATCH --error=slurm_%j.err

# Load your conda environment
CONDA_BASE_DIR=~/software/miniconda3
source "$CONDA_BASE_DIR/etc/profile.d/conda.sh"
source activate torch_cuda_128

# $1=start index
# $2=end index
# $3=Data folder PATH
# $4=Clustering file (e.g. output_Aug_7_80.txt)
# $5=Genotypic file (e.g. gc_content_predictions.csv)
# $6=Minimum membership of a cluster (e.g. 500)
# $7=Cluster identity score (e.g. 80)

echo $1 $2 $3 $4 $5 $6 $7

python cluster_distance.py --start $1 --end $2 --df $3 --cf $4 --gf $5 --ms $6 --cis $7